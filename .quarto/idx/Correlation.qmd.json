{"title":"(2) Correlation - R","markdown":{"headingText":"(2) Correlation - R","containsRefs":false,"markdown":"\nAgain, this practical is also in R. This is an example of the great amount of resources available in open-source programming languages (will also be able to find similar things in Python), where new packages are developed and made available constantly. As key insight, explore, probably what you need is already out there for you to use!\n\n------------------------------------------------------------------------\n\nFor you to see the breadth of possibilities out there, here is an example of different ways in which to describe and learn about the correlation matrix of your dataset.\n\n```{r, message=FALSE}\n\n\n# Install required libraries (if not already installed)\n\n#install.packages(c(\"ggplot2\", \"corrplot\", \"ggcorrplot\", \n#\"PerformanceAnalytics\", \"GGally\", \"psych\", \"corrr\"))\n\n# Load necessary libraries\nlibrary(ggplot2)\nlibrary(corrplot)\nlibrary(ggcorrplot)\nlibrary(PerformanceAnalytics)\nlibrary(GGally)\nlibrary(psych)\nlibrary(corrr)\n```\n\nTo assess the association between two variables, you can produce a scatter plot like below:\n\n```{r}\nset.seed(123)\nx <- rnorm(100)\ny <- x + rnorm(100, sd = 0.5)\n\nggplot(data = data.frame(x, y), aes(x = x, y = y)) +\n  geom_point(color = \"blue\", size = 2) +\n  geom_smooth(method = \"lm\", color = \"red\", se = FALSE) +\n  labs(title = \"Correlation Plot with ggplot2\",\n       x = \"X values\", y = \"Y values\") +\n  theme_minimal()\n```\n\nNow we are going to produce the correlation matrix, where in a go, you get insight of all the association happening in your dataset.For this we are going to use the mtcars data (A built-in dataset that contains measurements on 11 different attributes for 32 different cars). More specifically, the chosen variables are:\n\n-   mpg (Miles per Gallon): Represents the fuel efficiency of the car. Higher values, better efficiency.\n\n-   disp (Displacement): Represents the engine displacement, which is the total volume of all the cylinders in the engine.\n\n-   hp (Horsepower): Represents the power output of the car's engine.\n\n-   wt (Weight): Represents the weight of the car.\n\n```{r}\ndata <- mtcars[, c(\"mpg\", \"disp\", \"hp\", \"wt\")]\n```\n\nCan you calculate the correlation between them? Try out at least a pair.Remember there are different ways in which to calculate correlation <https://www.sthda.com/english/wiki/correlation-test-between-two-variables-in-r> and you can specify the type in your code `cor(x, y, method = c(\"pearson\", \"kendall\", \"spearman\"))`\n\n```{r}\n\n```\n\nNow that you know what to expect, lets proceed with the correlation matrices (same thing as above, but all in a go!):\n\n### -----corrplot Correlation Matrix -----\n\n```{r}\ncor_matrix <- cor(data)\ncorrplot(cor_matrix, method = \"circle\", type = \"upper\", \n         title = \"Correlation Matrix\", addCoef.col = \"black\")\n```\n\n### -----corrplot Correlation Matrix -----\n\n```{r}\nggcorrplot(cor_matrix, \n           method = \"square\", \n           type = \"lower\", \n           lab = TRUE, \n           title = \"mtcars\", \n           lab_size = 3) +\n  theme_minimal()\n```\n\n### -----PerformanceAnalytics Pairwise Correlation Plot -----\n\n```{r}\nchart.Correlation(data, histogram = TRUE, pch = 19)\n```\n\n###-----GGally Pairwise Correlation Plot -----\n\n```{r}\nggpairs(data, \n        title = \"Pairwise Correlation Plot with GGally\",\n        lower = list(continuous = wrap(\"smooth\", method = \"lm\")),\n        upper = list(continuous = wrap(\"cor\", size = 3)))\n```\n\n###----- psych Enhanced Pairwise Correlation Plot -----\n\n```{r}\npairs.panels(data, \n             method = \"pearson\", \n             hist.col = \"lightblue\", \n             density = TRUE, \n             ellipses = TRUE)\n```\n\n###----- Base R Heatmap -----\n\n```{r}\n# ----- 8. Base R Heatmap -----\nheatmap(cor_matrix, symm = TRUE, \n        main = \"Correlation Heatmap\", \n        col = colorRampPalette(c(\"red\", \"white\", \"blue\"))(20))\n```\n\n```{r}\n# ----- 10. corrr Tidy Correlation -----\ncor_matrix_tidy <- correlate(data)\ncor_matrix_tidy %>% \n  fashion() %>% \n  print()\n\n# Network-style correlation plot\ncor_matrix_tidy %>% \n  network_plot(min_cor = 0.3)\n\n```\n\nWhat are your insights? Do they make sense? Remember:\n\n-   mpg (Miles per Gallon): Represents the fuel efficiency of the car. Higher values, better efficiency.\n\n-   disp (Displacement): Represents the engine displacement, which is the total volume of all the cylinders in the engine.\n\n-   hp (Horsepower): Represents the power output of the car's engine.\n\n-   wt (Weight): Represents the weight of the car.\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"python":{"version":"r-reticulate"},"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":true,"code-line-numbers":false,"code-tools":true,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"output-file":"Correlation.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.32","editor":"visual","theme":"cosmo"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}